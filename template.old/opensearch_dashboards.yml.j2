# Wazuh Dashboard Configuration

server.host: "{{ ansible_host }}"
server.port: 443

# List of all indexers in one-line array with quotes
opensearch.hosts: ["{{ groups['indexer'] | map('extract', hostvars, 'ansible_host') | map('regex_replace', '^', 'https://') | map('regex_replace', '$', ':9200') | join('", "') }}"]

opensearch.ssl.verificationMode: certificate
opensearch.requestHeadersAllowlist: ["securitytenant", "Authorization"]

opensearch_security.multitenancy.enabled: false
opensearch_security.readonly_mode.roles: ["kibana_read_only"]

server.ssl.enabled: true
server.ssl.key: "/etc/wazuh-dashboard/certs/dashboard-key.pem"
server.ssl.certificate: "/etc/wazuh-dashboard/certs/dashboard.pem"
opensearch.ssl.certificateAuthorities: ["/etc/wazuh-dashboard/certs/root-ca.pem"]

uiSettings.overrides.defaultRoute: /app/wz-home
